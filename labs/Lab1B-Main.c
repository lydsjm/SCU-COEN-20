/*
    Adapted (with extensive modification) from code written by J. Lambert,
    Found at https://github.com/flightcrank/space-enemiespixels.

    This code was written to support the book, "ARM Assembly for Embedded Applications",
    by Daniel W. Lewis. Permission is granted to freely share this software provided
    that this notice is not removed. This software is intended to be used with a run-time
    library adapted by the author from the STM Cube Library for the 32F429IDISCOVERY 
    board and available for download from http://www.engr.scu.edu/~dlewis/book3.
*/

#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
#include <string.h>
#include <stdarg.h>
#include <math.h>
#include "library.h"
#include "graphics.h"

typedef uint32_t            TIMER ;

typedef enum
    {
    FALSE                   = 0,
    TRUE                    = 1
    } BOOL ;

#define CPU_CLOCK_MHZ       168

TIMER __attribute__((weak)) GetTimeout(int msec)
    {
    TIMER cycles = 1000 * msec * CPU_CLOCK_MHZ ;
    return GetClockCycleCount() + cycles ;
    }

BOOL __attribute__((weak)) Timeout(TIMER *timer, unsigned msec)
    {
    BOOL timeout = (int) (GetClockCycleCount() - *timer) > 0 ;
    if (timeout) *timer = GetTimeout(msec) ;
    return timeout ;
    }

#define BASES               4                       // These values determine the
#define PLAYER_BULLETS      10                      // number of various sprites
#define ENEMY_BULLETS       3
#define ENEMY_ROWS          5
#define ENEMY_COLS          8

#define ENEMIES_MSEC        50                      // These values determine the
#define SAUCER_MSEC         4                       // rate at which objects move
#define BULLETS_MSEC        4
#define BOMBS_MSEC          20
#define EXPLODE_MSEC        100
#define PLAYER_MSEC         5

#define HIDE_MIN_SEC        2                       // These values determine when
#define HIDE_MAX_SEC        8                       // the saucer appears

#define BULLET_WIDTH        2                       // These values specify the
#define BULLET_HEIGHT       6                       // size of bullets and bombs

#define ENEMY_WIDTH         15                      // These values must be 1/3 the
#define ENEMY_HEIGHT        15                      // dimensions of enemies.bmp

#define ENEMY_GAPY          8                       // Determines enemy spacing
#define ENEMY_GAPX          ((XPIXELS - ENEMY_COLS*ENEMY_WIDTH) / ENEMY_COLS)

#define HDR_HEIGHT          48
#define FTR_HEIGHT          16

#define MSG_FONT            Font12
#define MSG_HEIGHT          12                      // MSG_FONT.Height

#define AREA_XLFT           0
#define AREA_YTOP           HDR_HEIGHT
#define AREA_WIDTH          XPIXELS
#define AREA_HEIGHT         (YPIXELS - HDR_HEIGHT - FTR_HEIGHT - MSG_HEIGHT)

#define MSG_XLFT            0
#define MSG_YTOP            (AREA_YTOP + AREA_HEIGHT)

#define ENTRIES(a)          (sizeof(a)/sizeof(a[0]))

typedef enum
    {
    DEAD                    = 0,
    BOOM2                   = 1,
    BOOM1                   = 2,
    EXPLODE                 = 3,
    ALIVE                   = 4
    } STATE ;

typedef enum
    {
    UP,
    DOwN,
    LEFT,
    RIGHT
    } DIRECTION ;

typedef struct
    {
    int                     shots;
    int                     points;
    int                     killed;
    } SCORE ;

typedef struct
    {
    int                     xlft ;
    int                     ytop ;
    int                     width ;
    int                     height ;
    } BOX ;

typedef struct
    {
    int                     width ;
    int                     height ;
    uint8_t *               pixels ;
    uint8_t                 transparent ;                  // transparent color index
    } SPRITE ;

typedef struct
    {
    SPRITE *                base[BASES] ;
    SPRITE *                player ;
    SPRITE *                enemy ;
    SPRITE *                saucer ;
    SPRITE *                damage_btm ;
    SPRITE *                damage_top ;
    } SPRITES ;

typedef struct
    {
    BOX                     box;
    STATE                   state ;
    DIRECTION               direction;
    TIMER                   explode_timer ;
    TIMER                   hide_timer ;
    } SAUCER ;

typedef struct
    {
    BOX                     box;
    STATE                   state ;
    int                     points;
    TIMER                   explode_timer ;
    } ENEMY ;

typedef struct
    {
    ENEMY                   enemy[ENEMY_ROWS][ENEMY_COLS];
    DIRECTION               direction;
    int                     movement_speed;
    int                     dance_step;
    uint32_t                dance_speed;
    TIMER                   dance_timeout ;
    } ENEMIES ;

typedef struct
    {
    BOX                     box;
    } BASE ;

typedef struct
    {
    BOX                     box;
    int                     lives;
    STATE                   state ;
    TIMER                   explode_timer ;
    } PLAYER ;

typedef struct
    {
    BOX                     box;
    BOOL                    alive;
    } BULLET ;

typedef struct
    {
    const uint8_t *         table ;
    const uint16_t          Width ;
    const uint16_t          Height ;
    } sFONT ;

#pragma pack(1)
typedef struct
    {
    const uint16_t          type ;                  // Magic identifier
    const uint32_t          filesize ;              // File size in bytes
    const uint16_t          reserved1 ;             // Not used
    const uint16_t          reserved2 ;             // Not used
    const uint32_t          offset ;                // Offset to sprite data in bytes
    const uint32_t          header_size ;           // Header size in bytes
    const uint32_t          width ;                 // Width of the sprite
    const uint32_t          height ;                // Height of sprite
    const uint16_t          planes ;                // Number of color planes
    const uint16_t          bits ;                  // Bits per pixel
    const uint32_t          compression ;           // Compression type unsigned strt, stop ;
    const uint32_t          spritesize ;             // Sprite size in bytes
    const uint32_t          xresolution ;           // Pixels per meter
    const uint32_t          yresolution ;           // Pixels per meter
    const uint32_t          ncolours ;              // Number of colors
    const uint32_t          importantcolours ;      // Important colors
    const uint32_t          palette[0] ;            // color table (if any) IBGR
    } BMP_HEADER ;
#pragma pack()

extern sFONT                Font8, Font12, Font16, Font20, Font24 ;

//global variables, for convenience
#define BLACK               0                       // These values must correspond to
#define WHITE               1                       // the relative position of the
#define MAGENTA             2                       // colors in the following color
#define GREEN               3                       // table.

static uint32_t             color_table[256] = {COLOR_BLACK, COLOR_WHITE, COLOR_MAGENTA, COLOR_GREEN} ;
static unsigned             colors = 4 ;

static BULLET               player_bullets[PLAYER_BULLETS] ;
static BULLET               enemy_bullets[ENEMY_BULLETS] ;
static BASE                 base[BASES];

static uint8_t              canvas[AREA_HEIGHT][AREA_WIDTH] ;
static SPRITES              sprites ;
static SCORE                score ;
static ENEMIES              enemies;
static SAUCER               saucer;
static PLAYER               player;

static void                 BulletBaseCollision(BULLET *bullet, int bullets, DIRECTION direction) ;
static void                 BulletBaseDamage(BASE *base, int b_num, BULLET *bullet, DIRECTION direction) ;
static double               CalibrateGyroscope(void) ;
static void                 ChromArtInitialize(void) ;
static void                 ChromArtWaitForDMA(void) ;
static void                 ChromArtXferFrameBuffer(void) ;
static BOOL                 Collision(BOX a, BOX b) ;
static uint8_t              ColorTableIndex(uint32_t color32) ;
static void                 CopyPixels(SPRITE *src_img, BOX *src_box, SPRITE *dst_img, BOX *dst_box) ;
static void                 DrawBackground(void) ;
static void                 DrawBases(void) ;
static void                 DrawBullets(BULLET *bullet, int bullets) ;
static void                 DrawExplosion(STATE *state, BOX *box) ;
static void                 DrawHeadsUpDisplay(void) ;
static void                 DrawEnemies(void) ;
static void                 DrawPlayer(void) ;
static void                 DrawSaucer(void) ;
static void                 DrawSprite(SPRITE *sprite, int xlft, int ytop) ;
static void                 EnemyBaseCollision(void) ;
static void                 EnemyBaseDamage(ENEMY *enemy, BASE *base, int index) ;
static void                 EnemyHitCollision(void) ;
static void                 EnemyPlayerCollision(void) ;
static void                 EnemyShoot(void) ;
static void                 Explode(STATE *state, TIMER *timer) ;
static void                 Explosions(void) ;
static void                 FillPixels(SPRITE *img, BOX *box, uint8_t color) ;
static double               GetRollDegr(double roll_bias) ;
static double               GetRollRate(void) ;
static void                 InitializeBases(void) ;
static void                 InitializeBullets(BULLET *bullet, int bullets) ;
static void                 InitializeGyroscope(void) ;
static void                 InitializeEnemies(void) ;
static void                 InitializePlayer(void) ;
static void                 InitializeSaucer(void) ;
static void                 InitializeScore(void) ;
static void                 Instructions(void) ;
static SPRITE *             LoadSprite(void *bmp_file, uint8_t transparent, BOOL overlay) ;
static void                 MoveBullets(BULLET *bullet, int bullets, int speed) ;
static void                 MoveEnemies(int speed) ;
static void                 MoveEnemiesDown(void) ;
static void                 MoveEnemiesRight(int speed) ;
static void                 MoveEnemiesLeft(int speed) ;
static void                 MovePlayer(DIRECTION direction) ;
static void                 MoveSaucer(void) ;
static void                 PlayerHitCollision(void) ;
static void                 PlayerShoot(void) ;
static void                 PutMessage(char *format, ...) ;
static void                 SaucerHitCollision(void) ;
static void                 SetFontSize(sFONT *Font) ;
static void                 SetEnemiesSpeed(void) ;
static void                 UpdateDisplay(void) ;

static uint8_t base_bmp[] = {
  0x42, 0x4d, 0xb6, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x10, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x01,
  0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc,
  0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc, 0xfc
};

static uint8_t damagebtm_bmp[] = {
  0x42, 0x4d, 0x4e, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x06, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00,
  0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xd6, 0xfd,
  0xfd, 0xd6, 0x71, 0xfd, 0xfd, 0xa4, 0xd6, 0xfd, 0xfd, 0x6b, 0xab, 0xfd,
  0xfd, 0x6b, 0xfa, 0xfd, 0xfd, 0x72, 0xfa, 0xa4, 0xa4, 0xfa
};

static uint8_t damagetop_bmp[] = {
  0x42, 0x4d, 0x4e, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x06, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00,
  0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xfa, 0xa4,
  0xa4, 0xfa, 0xfa, 0xfd, 0xfd, 0x72, 0xab, 0xfd, 0xfd, 0x6b, 0xd6, 0xfd,
  0xfd, 0x6b, 0x71, 0xfd, 0xfd, 0xa4, 0xd6, 0xfd, 0xfd, 0xd6
};

static uint8_t player_bmp[] = {
  0x42, 0x4d, 0xd6, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x0a, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0xa0, 0x00,
  0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0x00, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0x00, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0x00, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0x00, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0x00, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0x00, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0x00
};

static uint8_t saucer_bmp[] = {
  0x42, 0x4d, 0x3a, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x0d, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x01,
  0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x13, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xfd, 0xfd,
  0xfd, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfd,
  0xfd, 0xfd, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd,
  0xfd, 0xfe, 0xfd, 0xfe, 0xfe, 0xfd, 0xfe, 0xfd, 0xfd, 0xfe, 0xfe, 0xfe,
  0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfe, 0xfe, 0xfe, 0xfe, 0xfe,
  0xfe, 0xfe, 0xfe, 0xfe, 0xfe, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd
};

static uint8_t enemies_bmp[] = {
  0x42, 0x4d, 0xa6, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x04,
  0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x2d, 0x00, 0x00, 0x00, 0x2d, 0x00,
  0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x08,
  0x00, 0x00, 0x12, 0x0b, 0x00, 0x00, 0x12, 0x0b, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x80, 0x00,
  0x00, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0xc0, 0xc0,
  0xc0, 0x00, 0xc0, 0xdc, 0xc0, 0x00, 0xf0, 0xca, 0xa6, 0x00, 0x00, 0x20,
  0x40, 0x00, 0x00, 0x20, 0x60, 0x00, 0x00, 0x20, 0x80, 0x00, 0x00, 0x20,
  0xa0, 0x00, 0x00, 0x20, 0xc0, 0x00, 0x00, 0x20, 0xe0, 0x00, 0x00, 0x40,
  0x00, 0x00, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40,
  0x60, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40,
  0xc0, 0x00, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x60,
  0x20, 0x00, 0x00, 0x60, 0x40, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00, 0x60,
  0x80, 0x00, 0x00, 0x60, 0xa0, 0x00, 0x00, 0x60, 0xc0, 0x00, 0x00, 0x60,
  0xe0, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x20, 0x00, 0x00, 0x80,
  0x40, 0x00, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x80,
  0xa0, 0x00, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xe0, 0x00, 0x00, 0xa0,
  0x00, 0x00, 0x00, 0xa0, 0x20, 0x00, 0x00, 0xa0, 0x40, 0x00, 0x00, 0xa0,
  0x60, 0x00, 0x00, 0xa0, 0x80, 0x00, 0x00, 0xa0, 0xa0, 0x00, 0x00, 0xa0,
  0xc0, 0x00, 0x00, 0xa0, 0xe0, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0,
  0x20, 0x00, 0x00, 0xc0, 0x40, 0x00, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0,
  0x80, 0x00, 0x00, 0xc0, 0xa0, 0x00, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0,
  0xe0, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0xe0, 0x20, 0x00, 0x00, 0xe0,
  0x40, 0x00, 0x00, 0xe0, 0x60, 0x00, 0x00, 0xe0, 0x80, 0x00, 0x00, 0xe0,
  0xa0, 0x00, 0x00, 0xe0, 0xc0, 0x00, 0x00, 0xe0, 0xe0, 0x00, 0x40, 0x00,
  0x00, 0x00, 0x40, 0x00, 0x20, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00,
  0x60, 0x00, 0x40, 0x00, 0x80, 0x00, 0x40, 0x00, 0xa0, 0x00, 0x40, 0x00,
  0xc0, 0x00, 0x40, 0x00, 0xe0, 0x00, 0x40, 0x20, 0x00, 0x00, 0x40, 0x20,
  0x20, 0x00, 0x40, 0x20, 0x40, 0x00, 0x40, 0x20, 0x60, 0x00, 0x40, 0x20,
  0x80, 0x00, 0x40, 0x20, 0xa0, 0x00, 0x40, 0x20, 0xc0, 0x00, 0x40, 0x20,
  0xe0, 0x00, 0x40, 0x40, 0x00, 0x00, 0x40, 0x40, 0x20, 0x00, 0x40, 0x40,
  0x40, 0x00, 0x40, 0x40, 0x60, 0x00, 0x40, 0x40, 0x80, 0x00, 0x40, 0x40,
  0xa0, 0x00, 0x40, 0x40, 0xc0, 0x00, 0x40, 0x40, 0xe0, 0x00, 0x40, 0x60,
  0x00, 0x00, 0x40, 0x60, 0x20, 0x00, 0x40, 0x60, 0x40, 0x00, 0x40, 0x60,
  0x60, 0x00, 0x40, 0x60, 0x80, 0x00, 0x40, 0x60, 0xa0, 0x00, 0x40, 0x60,
  0xc0, 0x00, 0x40, 0x60, 0xe0, 0x00, 0x40, 0x80, 0x00, 0x00, 0x40, 0x80,
  0x20, 0x00, 0x40, 0x80, 0x40, 0x00, 0x40, 0x80, 0x60, 0x00, 0x40, 0x80,
  0x80, 0x00, 0x40, 0x80, 0xa0, 0x00, 0x40, 0x80, 0xc0, 0x00, 0x40, 0x80,
  0xe0, 0x00, 0x40, 0xa0, 0x00, 0x00, 0x40, 0xa0, 0x20, 0x00, 0x40, 0xa0,
  0x40, 0x00, 0x40, 0xa0, 0x60, 0x00, 0x40, 0xa0, 0x80, 0x00, 0x40, 0xa0,
  0xa0, 0x00, 0x40, 0xa0, 0xc0, 0x00, 0x40, 0xa0, 0xe0, 0x00, 0x40, 0xc0,
  0x00, 0x00, 0x40, 0xc0, 0x20, 0x00, 0x40, 0xc0, 0x40, 0x00, 0x40, 0xc0,
  0x60, 0x00, 0x40, 0xc0, 0x80, 0x00, 0x40, 0xc0, 0xa0, 0x00, 0x40, 0xc0,
  0xc0, 0x00, 0x40, 0xc0, 0xe0, 0x00, 0x40, 0xe0, 0x00, 0x00, 0x40, 0xe0,
  0x20, 0x00, 0x40, 0xe0, 0x40, 0x00, 0x40, 0xe0, 0x60, 0x00, 0x40, 0xe0,
  0x80, 0x00, 0x40, 0xe0, 0xa0, 0x00, 0x40, 0xe0, 0xc0, 0x00, 0x40, 0xe0,
  0xe0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x80, 0x00,
  0x40, 0x00, 0x80, 0x00, 0x60, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
  0xa0, 0x00, 0x80, 0x00, 0xc0, 0x00, 0x80, 0x00, 0xe0, 0x00, 0x80, 0x20,
  0x00, 0x00, 0x80, 0x20, 0x20, 0x00, 0x80, 0x20, 0x40, 0x00, 0x80, 0x20,
  0x60, 0x00, 0x80, 0x20, 0x80, 0x00, 0x80, 0x20, 0xa0, 0x00, 0x80, 0x20,
  0xc0, 0x00, 0x80, 0x20, 0xe0, 0x00, 0x80, 0x40, 0x00, 0x00, 0x80, 0x40,
  0x20, 0x00, 0x80, 0x40, 0x40, 0x00, 0x80, 0x40, 0x60, 0x00, 0x80, 0x40,
  0x80, 0x00, 0x80, 0x40, 0xa0, 0x00, 0x80, 0x40, 0xc0, 0x00, 0x80, 0x40,
  0xe0, 0x00, 0x80, 0x60, 0x00, 0x00, 0x80, 0x60, 0x20, 0x00, 0x80, 0x60,
  0x40, 0x00, 0x80, 0x60, 0x60, 0x00, 0x80, 0x60, 0x80, 0x00, 0x80, 0x60,
  0xa0, 0x00, 0x80, 0x60, 0xc0, 0x00, 0x80, 0x60, 0xe0, 0x00, 0x80, 0x80,
  0x00, 0x00, 0x80, 0x80, 0x20, 0x00, 0x80, 0x80, 0x40, 0x00, 0x80, 0x80,
  0x60, 0x00, 0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0xa0, 0x00, 0x80, 0x80,
  0xc0, 0x00, 0x80, 0x80, 0xe0, 0x00, 0x80, 0xa0, 0x00, 0x00, 0x80, 0xa0,
  0x20, 0x00, 0x80, 0xa0, 0x40, 0x00, 0x80, 0xa0, 0x60, 0x00, 0x80, 0xa0,
  0x80, 0x00, 0x80, 0xa0, 0xa0, 0x00, 0x80, 0xa0, 0xc0, 0x00, 0x80, 0xa0,
  0xe0, 0x00, 0x80, 0xc0, 0x00, 0x00, 0x80, 0xc0, 0x20, 0x00, 0x80, 0xc0,
  0x40, 0x00, 0x80, 0xc0, 0x60, 0x00, 0x80, 0xc0, 0x80, 0x00, 0x80, 0xc0,
  0xa0, 0x00, 0x80, 0xc0, 0xc0, 0x00, 0x80, 0xc0, 0xe0, 0x00, 0x80, 0xe0,
  0x00, 0x00, 0x80, 0xe0, 0x20, 0x00, 0x80, 0xe0, 0x40, 0x00, 0x80, 0xe0,
  0x60, 0x00, 0x80, 0xe0, 0x80, 0x00, 0x80, 0xe0, 0xa0, 0x00, 0x80, 0xe0,
  0xc0, 0x00, 0x80, 0xe0, 0xe0, 0x00, 0xc0, 0x00, 0x00, 0x00, 0xc0, 0x00,
  0x20, 0x00, 0xc0, 0x00, 0x40, 0x00, 0xc0, 0x00, 0x60, 0x00, 0xc0, 0x00,
  0x80, 0x00, 0xc0, 0x00, 0xa0, 0x00, 0xc0, 0x00, 0xc0, 0x00, 0xc0, 0x00,
  0xe0, 0x00, 0xc0, 0x20, 0x00, 0x00, 0xc0, 0x20, 0x20, 0x00, 0xc0, 0x20,
  0x40, 0x00, 0xc0, 0x20, 0x60, 0x00, 0xc0, 0x20, 0x80, 0x00, 0xc0, 0x20,
  0xa0, 0x00, 0xc0, 0x20, 0xc0, 0x00, 0xc0, 0x20, 0xe0, 0x00, 0xc0, 0x40,
  0x00, 0x00, 0xc0, 0x40, 0x20, 0x00, 0xc0, 0x40, 0x40, 0x00, 0xc0, 0x40,
  0x60, 0x00, 0xc0, 0x40, 0x80, 0x00, 0xc0, 0x40, 0xa0, 0x00, 0xc0, 0x40,
  0xc0, 0x00, 0xc0, 0x40, 0xe0, 0x00, 0xc0, 0x60, 0x00, 0x00, 0xc0, 0x60,
  0x20, 0x00, 0xc0, 0x60, 0x40, 0x00, 0xc0, 0x60, 0x60, 0x00, 0xc0, 0x60,
  0x80, 0x00, 0xc0, 0x60, 0xa0, 0x00, 0xc0, 0x60, 0xc0, 0x00, 0xc0, 0x60,
  0xe0, 0x00, 0xc0, 0x80, 0x00, 0x00, 0xc0, 0x80, 0x20, 0x00, 0xc0, 0x80,
  0x40, 0x00, 0xc0, 0x80, 0x60, 0x00, 0xc0, 0x80, 0x80, 0x00, 0xc0, 0x80,
  0xa0, 0x00, 0xc0, 0x80, 0xc0, 0x00, 0xc0, 0x80, 0xe0, 0x00, 0xc0, 0xa0,
  0x00, 0x00, 0xc0, 0xa0, 0x20, 0x00, 0xc0, 0xa0, 0x40, 0x00, 0xc0, 0xa0,
  0x60, 0x00, 0xc0, 0xa0, 0x80, 0x00, 0xc0, 0xa0, 0xa0, 0x00, 0xc0, 0xa0,
  0xc0, 0x00, 0xc0, 0xa0, 0xe0, 0x00, 0xc0, 0xc0, 0x00, 0x00, 0xc0, 0xc0,
  0x20, 0x00, 0xc0, 0xc0, 0x40, 0x00, 0xc0, 0xc0, 0x60, 0x00, 0xc0, 0xc0,
  0x80, 0x00, 0xc0, 0xc0, 0xa0, 0x00, 0xf0, 0xfb, 0xff, 0x00, 0xa4, 0xa0,
  0xa0, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0xff,
  0x00, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, 0xff, 0x00,
  0xff, 0x00, 0xff, 0xff, 0x00, 0x00, 0xff, 0xff, 0xff, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xfd,
  0xfd, 0xfd, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9,
  0xf9, 0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9,
  0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd,
  0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9,
  0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xfd,
  0xfd, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd,
  0xfd, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xf9,
  0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9, 0xf9,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfa, 0xfa, 0xfa, 0xfa, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xfd,
  0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0xfd, 0xfa,
  0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa,
  0xfd, 0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfd,
  0xfd, 0xfa, 0xfd, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfd, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfd,
  0xfd, 0xfa, 0xfd, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa, 0xfa,
  0xfa, 0xfa, 0xfd, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfa, 0xfa, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfa, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa,
  0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfa, 0xfa, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfa,
  0xfa, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfd,
  0xfd, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xfd,
  0xfd, 0xff, 0xff, 0xff, 0xff, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd,
  0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xff,
  0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xff, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfb, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfd, 0xfd, 0xfd,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb, 0xfb,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xff,
  0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0xfd, 0x00, 0x00, 0x00
};

// Library function prototypes for Gyro sensor (not declared in library.h)
extern void                 GYRO_IO_Init(void) ;
extern void                 GYRO_IO_Write(uint8_t* data, uint8_t port, uint16_t bytes) ;
extern void                 GYRO_IO_Read(uint8_t* data, uint8_t port, uint16_t bytes) ;

#define DATA_RATE_INDEX     3                   // 0 =  95 Hz,  1 = 190 Hz,  2 =  380 Hz,  3 =  760 Hz
#define FULL_SCALE_INDEX    3                   // 0 = 250 dps, 1 = 500 dps, 2 = 1000 dps, 3 = 2000 dps

static const double         SAMPLES_PER_SEC[]   = {95.0, 190.0, 380.0, 760.0} ;                         // indexed by DATA_RATE_INDEX
static const double         SENSITIVITY[]       = {8.75, 17.5, 35.0, 70.0} ;                            // indexed by FULL_SCALE_INDEX

static const int            GYRO_CTRL_REG1      = 0x20 ;
static const uint8_t        GYRO_ODR_HZ[]       = {0b00000000, 0b01000000, 0b10000000, 0b11000000} ;    // indexed by DATA_RATE_INDEX
#define GYRO_BW1_FLAG       0b00100000
#define GYRO_BW0_FLAG       0b00010000
#define GYRO_PD_FLAG        0b00001000
#define GYRO_XYZ_ENABLE     0b00000111

static const int            GYRO_CTRL_REG4      = 0x23 ;
#define GYRO_BDU_FLAG       0b10000000
static const uint8_t        GYRO_FULL_SCALE[]   = {0b00000000, 0b00010000, 0b00100000, 0b00110000} ;    // indexed by FULL_SCALE_INDEX

static const int            GYRO_CTRL_REG5      = 0x24 ;
#define GYRO_FIFO_ENABLE    0b01000000
#define GYRO_HPEN_FLAG      0b00010000
#define GYRO_OSEL1_FLAG     0b00000010
#define GYRO_OSEL0_FLAG     0b00000001

static const int            GYRO_XYZ_DATA       = 0x28 ;

static const int            GYRO_FIFO_CTRL      = 0x2E ;
#define GYRO_FIFO_STREAM    0b01000000

static const int            GYRO_FIFO_SRC       = 0x2F ;
#define GYRO_FIFO_EMPTY     0b00100000

//Main program
int main(void)
    {
    InitializeHardware(HEADER, "Lab 1B: Space Invaders") ;
    InitializeGyroscope() ;
    double roll_bias = CalibrateGyroscope() ;
 
    sprites.enemy =         LoadSprite(enemies_bmp,   MAGENTA,   TRUE) ;
    sprites.player =        LoadSprite(player_bmp,    MAGENTA,   TRUE) ;
    sprites.saucer =        LoadSprite(saucer_bmp,    MAGENTA,   TRUE) ;
    sprites.damage_btm =    LoadSprite(damagebtm_bmp,    GREEN,     TRUE) ;
    sprites.damage_top =    LoadSprite(damagetop_bmp, GREEN,     TRUE) ;

    InitializeScore() ;
    InitializeBases() ;
    InitializeEnemies() ;
    InitializePlayer() ;
    InitializeSaucer() ;
    InitializeBullets(player_bullets, PLAYER_BULLETS) ;
    InitializeBullets(enemy_bullets,  ENEMY_BULLETS) ;
    UpdateDisplay() ;

    PutMessage("Press Blue Button to start") ;
    ChromArtInitialize() ;
    ChromArtXferFrameBuffer() ;
    WaitForPushButton() ;

    for (player.lives = 3; player.lives > 0; player.lives--)
        {
        static struct {TIMER player, enemies, saucer, bullets, bombs; } movement_timer = {0} ;

        while (player.state != DEAD)
            {
            ChromArtWaitForDMA() ;
            double degr_roll = GetRollDegr(roll_bias) ;

            if (Timeout(&movement_timer.enemies,  ENEMIES_MSEC))  MoveEnemies(enemies.movement_speed) ;
            if (Timeout(&movement_timer.saucer,   SAUCER_MSEC))   MoveSaucer() ;
            if (Timeout(&movement_timer.bullets,  BULLETS_MSEC))  MoveBullets(player_bullets, PLAYER_BULLETS, -1) ;
            if (Timeout(&movement_timer.bombs,    BOMBS_MSEC))    MoveBullets(enemy_bullets,  ENEMY_BULLETS,  +1) ;

            if (player.state == ALIVE)
                {
                static BOOL was_pressed = FALSE ;
                BOOL pressed = PushButtonPressed() ;
                if (pressed && !was_pressed) PlayerShoot() ;
                was_pressed = pressed ;

                PlayerHitCollision() ;
                EnemyPlayerCollision() ;
                EnemyShoot() ;
                if (Timeout(&movement_timer.player, PLAYER_MSEC))
                    {
                    if (degr_roll < -5.0)  MovePlayer(LEFT) ;
                    if (degr_roll > +5.0)  MovePlayer(RIGHT) ;
                    }
                }

            BulletBaseCollision(enemy_bullets,  ENEMY_BULLETS,  DOwN) ;
            BulletBaseCollision(player_bullets, PLAYER_BULLETS, UP) ;
            SaucerHitCollision() ;
            EnemyBaseCollision() ;
            EnemyHitCollision() ;
            Explosions() ;
            UpdateDisplay() ;
            DrawHeadsUpDisplay() ;

            ChromArtXferFrameBuffer() ;
            }

        InitializeEnemies() ;
        InitializePlayer() ;
        InitializeSaucer() ;
        InitializeBullets(player_bullets, PLAYER_BULLETS) ;
        InitializeBullets(enemy_bullets,  ENEMY_BULLETS) ;
        UpdateDisplay() ;
        }

    DrawHeadsUpDisplay() ;
    return 0;
    }

//Initialize the score structure
static void InitializeScore(void)
    {
    score = (SCORE) {0, 0, 0} ;
    }

//Initialize the enemies starting positions, direction, speed and color
static void InitializeEnemies(void)
    {
    static int points[] = {30, 20, 20, 10, 10} ;

    enemies.direction       = RIGHT;
    enemies.movement_speed  = 1;
    enemies.dance_step      = 0;
    enemies.dance_speed     = 500 ;
    enemies.dance_timeout   = GetTimeout(enemies.dance_speed) ;

    int x = 0 ;
    int y = 20 ;

    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            enemy->state = ALIVE;
            enemy->box = (BOX) {x, y, ENEMY_WIDTH, ENEMY_HEIGHT} ;
            x += ENEMY_WIDTH + ENEMY_GAPX ; // gap size
            enemy->points = points[row] ;
            }

        x = 0; //reset line
        y += ENEMY_HEIGHT + ENEMY_GAPY;
        }
    }

//Initialize the player starting position and dimensions
static void InitializePlayer(void)
    {
    player.box.xlft     = (AREA_WIDTH / 2) - (sprites.player->width / 2) ;
    player.box.ytop     = AREA_HEIGHT - (sprites.player->height + 5)  ;
    player.box.width    = sprites.player->width;
    player.box.height   = sprites.player->height;
    player.state        = ALIVE ;
    }

//Initialize the bases starting position and dimensions
static void InitializeBases(void)
    {
    BASE *pbase = &base[0] ;
    for (int base = 0; base < BASES; base++, pbase++)
        {
        sprites.base[base]  = LoadSprite(base_bmp, MAGENTA, FALSE) ;
        int space           = (AREA_WIDTH - BASES*sprites.base[0]->width) / (BASES + 1) ;
        pbase->box.xlft     = space + base * (sprites.base[0]->width + space) ;
        pbase->box.ytop     = MSG_YTOP - sprites.base[base]->height - 70 ;
        pbase->box.width    = sprites.base[base]->width ;
        pbase->box.height   = sprites.base[base]->height ;
        }
    }

//Initialize the player bullets dimensions
static void InitializeBullets(BULLET *bullet, int bullets)
    {
    for (int which = 0; which < bullets; which++, bullet++)
        {
        bullet->alive   = FALSE ;
        bullet->box     = (BOX) {0, 0, BULLET_WIDTH, BULLET_HEIGHT} ;
        }
    }

//Initialize the saucer position and dimensions
static void InitializeSaucer(void)
    {
    saucer.box          = (BOX) {0, 0, sprites.saucer->width, sprites.saucer->height} ;
    saucer.state        = ALIVE ;
    saucer.direction    = RIGHT;
    }

//Draw the background
static void DrawBackground(void)
    {
    memset(canvas, BLACK, sizeof(canvas)) ;
    }

//Draw the Heads Up Display
static void DrawHeadsUpDisplay(void)
    {
    PutMessage("Points:%-4d  Killed:%-3d  Lives:%d", score.points, score.killed, player.lives) ;
    }

//Draw the player
static void DrawPlayer(void)
    {
    if (player.state == ALIVE)      DrawSprite(sprites.player, player.box.xlft, player.box.ytop) ;
    else if (player.state != DEAD)  DrawExplosion(&player.state, &player.box) ;
    }

static void DrawExplosion(STATE *state, BOX *box)
    {
    static uint8_t pixels[ENEMY_HEIGHT*ENEMY_WIDTH] ;
    static BOX dst      = {0, 0, ENEMY_WIDTH, ENEMY_HEIGHT} ;
    static SPRITE temp  = {ENEMY_WIDTH, ENEMY_HEIGHT, pixels} ;
    BOX src             = (BOX) {2*ENEMY_WIDTH, ENEMY_HEIGHT * (*state - 1), ENEMY_WIDTH, ENEMY_HEIGHT} ;
    temp.transparent    = MAGENTA ;
    CopyPixels(sprites.enemy, &src, &temp, &dst) ;
    DrawSprite(&temp, box->xlft, box->ytop) ;
    }

//Draw the saucer if its alive
static void DrawSaucer(void)
    {
    if (saucer.state == ALIVE)      DrawSprite(sprites.saucer, saucer.box.xlft, saucer.box.ytop) ;
    else if (saucer.state != DEAD)  DrawExplosion(&saucer.state, &saucer.box) ;
    }

//Draw the enemies if there alive
static void DrawEnemies(void)
    {
    static uint8_t pixels[ENEMY_HEIGHT*ENEMY_WIDTH] ;
    static SPRITE temp  = {ENEMY_WIDTH, ENEMY_HEIGHT, pixels} ;
    static BOX dst      = {0, 0, ENEMY_WIDTH, ENEMY_HEIGHT} ;
    BOX src             = {0, 0, ENEMY_WIDTH, ENEMY_HEIGHT} ;
    temp.transparent    = MAGENTA ;
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state == ALIVE)
                {
                src.xlft = (enemies.dance_step == 0) ? 0 : ENEMY_WIDTH ;
                switch (row)
                    {
                    case 0:  src.ytop = 2*ENEMY_HEIGHT ;  break ;
                    case 1:  // fall through to case 
                    case 2:  src.ytop = 1*ENEMY_HEIGHT ;  break ;
                    default: src.ytop = 0*ENEMY_HEIGHT ;  break ;
                    }
                CopyPixels(sprites.enemy, &src, &temp, &dst) ;
                DrawSprite(&temp, enemy->box.xlft, enemy->box.ytop) ;
                }

            else if (enemy->state != DEAD) DrawExplosion(&enemy->state, &enemy->box) ;
            }
        }
    }

//Draw the bases
static void DrawBases(void)
    {
    BASE *pbase = &base[0] ;
    for(int base = 0; base < BASES; base++, pbase++)
        {
        DrawSprite(sprites.base[base], pbase->box.xlft, pbase->box.ytop) ;
        }
   }

//Draw both the enemy and the players bullets if they're alive
static void DrawBullets(BULLET *bullet, int bullets)
    {
    for (int which = 0; which < bullets; which++, bullet++)
        {
        if (bullet->alive == FALSE) continue ;

        int y = bullet->box.ytop ;
        for (int row = 0; row < bullet->box.height; row++, y++)
            {
            uint8_t *pcol = &canvas[y][bullet->box.xlft] ;
            for (int col = 0; col < bullet->box.width; col++) *pcol++ = WHITE ;
            }
        }
    }

//Set invader movment speed
static void SetEnemiesSpeed(void)
    {
    switch (score.killed)
        {
        case 10:
            enemies.movement_speed  = 2;
            enemies.dance_speed     = 400;
            break;
        case 20:
            enemies.movement_speed  = 4;
            enemies.dance_speed     = 300;
            break;
        case 30:
            enemies.movement_speed  = 8;
            enemies.dance_speed     = 200;
            break;
        case 40:
            enemies.movement_speed  = 16;
            enemies.dance_speed     = 100;
            break;
        }
    }

//Move positions of both enemy and player bullets on screen
static void MoveBullets(BULLET *bullet, int bullets, int speed)
    {
    for (int which = 0; which < bullets; which++, bullet++)
        {
        if (bullet->alive == FALSE) continue ;

        bullet->box.ytop += speed;
        if (bullet->box.ytop <= 0)                                  bullet->alive = FALSE ;
        if (bullet->box.ytop + bullet->box.height >= AREA_HEIGHT)   bullet->alive = FALSE ;
        }
    }

//Move enemies down one space once the reach the edge
static void MoveEnemiesDown(void)
    {
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state == DEAD) continue;
            enemy->box.ytop += 2 ;
            if (enemy->box.ytop > AREA_YTOP + AREA_HEIGHT) enemy->state = DEAD ;
            }
        }
    }

static void MoveEnemiesLeft(int speed)
    {
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state == DEAD) continue ;

            if (enemy->box.xlft <= 0)
                {
                enemies.direction = RIGHT;
                MoveEnemiesDown() ;
                return ;
                }

            enemy->box.xlft -= enemies.movement_speed;
            }
        }
    }

static void MoveEnemiesRight(int speed)
    {
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state == DEAD) continue ;

            if (enemy->box.xlft + ENEMY_WIDTH >= AREA_WIDTH)
                {
                enemies.direction = LEFT;
                MoveEnemiesDown() ;
                return ;
                }

            enemy->box.xlft += enemies.movement_speed;
            }
        }
    }

static void MoveEnemies(int speed)
    {
    SetEnemiesSpeed() ;

    if (enemies.direction == LEFT)  MoveEnemiesLeft(speed) ;
    if (enemies.direction == RIGHT) MoveEnemiesRight(speed) ;

    if (Timeout(&enemies.dance_timeout, enemies.dance_speed))
        {
        enemies.dance_step = 1 - enemies.dance_step ;
        }
    }

//Move player LEFT or RIGHT
static void MovePlayer(DIRECTION direction)
    {
    if (direction == LEFT)
        {
        if (player.box.xlft > 0)  player.box.xlft--;
        }
    else if (direction == RIGHT)
        {
        if (player.box.xlft + player.box.width < AREA_WIDTH)  player.box.xlft++;
        }
    }

//Move saucer based on there current direction
static void MoveSaucer(void)
    {
    if (saucer.state == DEAD && Timeout(&saucer.hide_timer, 0)) saucer.state = ALIVE ;

    if (saucer.state == ALIVE)
        {
        if (saucer.direction == LEFT && --saucer.box.xlft < 0)
            {
            saucer.state        = DEAD;
            unsigned sec        = HIDE_MIN_SEC + GetRandomNumber() % (HIDE_MAX_SEC - HIDE_MIN_SEC + 1) ;
            saucer.hide_timer   = GetTimeout(1000 * sec) ;
            saucer.box.xlft     = 0;
            saucer.direction    = RIGHT;
            }

        if (saucer.direction == RIGHT && ++saucer.box.xlft + saucer.box.width > AREA_WIDTH)
            {
            saucer.state        = DEAD;
            unsigned sec        = HIDE_MIN_SEC + GetRandomNumber() % (HIDE_MAX_SEC - HIDE_MIN_SEC + 1) ;
            saucer.hide_timer   = GetTimeout(1000 * sec) ;
            saucer.box.xlft     = AREA_WIDTH - saucer.box.width;
            saucer.direction    = LEFT;
            }
        }
    }

//Detect any collision between any two non rotated rectangles
static BOOL Collision(BOX a, BOX b)
    {
    if (b.ytop > a.ytop + a.height) return FALSE ;
    if (a.ytop > b.ytop + b.height) return FALSE ;
    if (a.xlft > b.xlft + b.width)  return FALSE ;
    if (b.xlft > a.xlft + a.width)  return FALSE ;

    return TRUE ;
    }

//Create damage to the base sprite for player and enemy bullet collisions
static void BulletBaseDamage(BASE *base, int b_num, BULLET *bullet, DIRECTION direction)
    {
    uint8_t *raw_pixels = (uint8_t *) sprites.base[b_num]->pixels;

    if (direction == UP)
        {
        //how far from the left did the bullet hit the base sprite
        int x = (bullet->box.xlft + 3) - base->box.xlft;

        //start from bottom of the base sprite
        int y = base->box.height - 1;

        for (int row = 0; row < base->box.height; row++)
            {
            //the x calculation can get us to pixel column 60 when 59 is the maximum (0 - 59 is 60 pixels)
            if (x >= sprites.base[0]->width) x = sprites.base[0]->width - 1;

            int pix_offset = y * sprites.base[b_num]->width  + x;

            //found part  of the base sprite that is NOT magenta
            //searching from the bottom up
            if (raw_pixels[pix_offset] != MAGENTA)
                {
                bullet->alive   = FALSE ;
                static BOX src  = (BOX) {0, 0, 11, 15} ;
                BOX dst         = (BOX) {x - 3, y - 14, 11, 15} ;
                CopyPixels(sprites.damage_btm, &src, sprites.base[b_num], &dst) ;
                break;
                }

            y--;
            }
        }

    if (direction == DOwN)
        {
        //how far from the left did the bullet hit the base sprite
        int x = (bullet->box.xlft + 3) - base->box.xlft;

        //start from top of the base sprite
        int y = 0;

        for(int row = 0; row < base->box.height; row++)
            {
            //the x calculation can get us to pixel column 60 when 59 is the maximum (0 - 59 is 60 pixels)
            if (x >= sprites.base[0]->width) x = sprites.base[0]->width - 1;

            int pix_offset = y * sprites.base[b_num]->width  + x;

            //found part part of the base sprite that is NOT magenta
            //searching from the top down
            if (raw_pixels[pix_offset] != MAGENTA)
                {
                bullet->alive   = FALSE ;
                static BOX src  = (BOX) {0, 0, 11, 15} ;
                BOX dst         = (BOX) {x -3, y, 11, 15} ;
                CopyPixels(sprites.damage_top, &src, sprites.base[b_num], &dst) ;
                break;
                }

            y++;
            }
        }
    }

static void CopyPixels(SPRITE *src_img, BOX *src_box, SPRITE *dst_img, BOX *dst_box)
    {
    uint8_t *src = src_img->pixels + src_box->ytop * src_img->width + src_box->xlft ;
    uint8_t *dst = dst_img->pixels + dst_box->ytop * dst_img->width + dst_box->xlft ;

    int dst_row = dst_box->ytop ;
    for (int row = 0; row < src_box->height; row++)
        {
        if (dst_row++ >= dst_box->height) break ;

        uint8_t *psrc = src ;
        uint8_t *pdst = dst ; 
        int dst_col = dst_box->xlft ;
        for (int col = 0; col < src_box->width; col++)
            {
            if (dst_col++ >= dst_box->width) break ;
            *pdst++ = *psrc++ ;
            }

        src += src_img->width ;
        dst += dst_img->width ;
        }
    }

//Create damage to the base sprite for enemy and base collisions
static void EnemyBaseDamage(ENEMY *enemy, BASE *base, int index)
    {
    BOX box = (BOX) {enemy->box.xlft - base->box.xlft, base->box.ytop - enemy->box.ytop, enemy->box.width, enemy->box.height} ;
    FillPixels(sprites.base[index], &box, MAGENTA) ;
    }

static void FillPixels(SPRITE *img, BOX *box, uint8_t color)
    {
    int drow = box->ytop ;
    uint8_t *dst = img->pixels + box->ytop * img->width + box->xlft ;
    for (int row = 0; row < box->height; row++, drow++, dst += img->width)
        {
        if (0 <= drow && drow < img->height)
            {
            int dcol        = box->xlft ;
            uint8_t *pdst   = dst ;
            for (int col = 0; col < box->width; col++, dcol++, pdst++)
                {
                if (0 <= dcol && dcol < img->width) *pdst = color ;
                }
            }
        }
    }

//Look for collisions based on enemy and base rectangles
static void EnemyBaseCollision(void)
    {
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0;  col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state != ALIVE) continue ;
            BASE *pbase = &base[0] ;
            for (int base = 0;  base < BASES; base++, pbase++)
                {
                if (Collision(enemy->box, pbase->box))
                    {
                    EnemyBaseDamage(enemy, pbase, base) ;
                    }
                }
            }
        }
    }

//Look for collisions based on player bullet and invader rectangles
static void EnemyHitCollision(void)
    {
    BULLET *bullet = &player_bullets[0] ;
    for (int which = 0; which < PLAYER_BULLETS; which++, bullet++)
        {
        if (bullet->alive == FALSE) continue ;
        for (int row = 0; row < ENEMY_ROWS; row++)
            {
            ENEMY *enemy = &enemies.enemy[row][0] ;
            for (int col = 0; col < ENEMY_COLS; col++, enemy++)
                {
                if (enemy->state != ALIVE) continue ;
                if (Collision(bullet->box, enemy->box))
                    {
                    enemy->state            = EXPLODE ;
                    enemy->explode_timer    = GetTimeout(EXPLODE_MSEC) ;
                    bullet->alive           = FALSE ;
                    bullet->box.xlft        = 0;
                    bullet->box.ytop        = 0;
                    score.killed++;
                    score.points            += enemy->points;
                    }
                }
            }
        }
    }

//Look for collisions based on enemy bullet and player rectangles
static void PlayerHitCollision(void)
    {
    if (player.state != ALIVE) return ;

    BULLET *bullet = &enemy_bullets[0] ;
    for (int which = 0; which < ENEMY_BULLETS; which++, bullet++)
        {
        if (bullet->alive == FALSE) continue ;
        if (Collision(bullet->box, player.box))
            {
            player.state            = EXPLODE ;
            player.explode_timer    = GetTimeout(EXPLODE_MSEC) ;
            return ;
            }
        }
    }

//Look for collisions based on player bullet and saucer rectangles
static void SaucerHitCollision(void)
    {
    if (saucer.state != ALIVE) return ;

    BULLET *bullet = &player_bullets[0] ;
    for (int which = 0; which < PLAYER_BULLETS; which++, bullet++)
        {
        if (bullet->alive == FALSE) continue ;
        if (Collision(bullet->box, saucer.box))
            {
            static int amount[] = {50, 150, 300} ;
            score.points            += amount[GetRandomNumber() % 3] ;
            saucer.state            = EXPLODE;
            saucer.explode_timer    = GetTimeout(EXPLODE_MSEC) ;
            }
        }
    }

//Look for collisions based on invader and player rectangles
static void EnemyPlayerCollision(void)
    {
    if (player.state != ALIVE) return ;

    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            if (enemy->state != ALIVE) continue ;
            if (Collision(player.box, enemy->box))
                {
                player.state            = EXPLODE ;
                player.explode_timer    = GetTimeout(EXPLODE_MSEC) ;
                return ;
                }
            }
        }
    }

//Look for collisions based on bullet and base rectangles
static void BulletBaseCollision(BULLET *bullet, int bullets, DIRECTION direction)
    {
    for (int which = 0; which < bullets; which++, bullet++)
        {
        BASE *pbase = &base[0] ;
        if (bullet->alive == FALSE) continue ;
        for (int base = 0; base < BASES; base++, pbase++)
            {
            if (Collision(bullet->box, pbase->box))
                {
                BulletBaseDamage(pbase, base, bullet, direction) ;
                }
            }
        }
    }

//Shoot bullet/s from player
static void PlayerShoot(void)
    {
    BULLET *bullet = &player_bullets[0] ;
    for (int which = 0; which < PLAYER_BULLETS; which++, bullet++)
        {
        if (!bullet->alive == FALSE) continue ;

        score.shots++;
        bullet->box.xlft    = player.box.xlft + (sprites.player->width / 2) ;
        bullet->box.ytop    = player.box.ytop - (bullet->box.height + 10) ;
        bullet->alive       = TRUE ;
        break;
        }
    }

//Determine when enemies should shoot
static void EnemyShoot(void)
    {
    if (player.state != ALIVE) return ;

    for (int col = 0; col < ENEMY_COLS; col++)
        {
        for (int row = ENEMY_ROWS - 1; row >= 0; row--)
            {
            ENEMY *enemy = &enemies.enemy[row][col] ;

            if (enemy->state != ALIVE) continue ;

            //player
            int midpt = player.box.xlft + (player.box.width / 2) ;

            //enemy
            int min = enemy->box.xlft;
            int max = enemy->box.xlft + enemy->box.width;

            if (min < midpt && midpt < max)
                {
                //fire bullet if available
                BULLET *bullet = &enemy_bullets[0] ;
                for (int which = 0; which < ENEMY_BULLETS; which++, bullet++)
                    {
                    if (bullet->alive) continue ;

                    if ((GetRandomNumber() % 30) == 1)
                        {
                        bullet->box.xlft    = min + (ENEMY_WIDTH / 2) ;
                        bullet->box.ytop    = enemy->box.ytop + ENEMY_HEIGHT ;
                        bullet->alive       = TRUE ;
                        }
                    break;
                    }
                }

            break;
            }
        }
    }

static SPRITE *LoadSprite(void *bmp_file, uint8_t transparent, BOOL overlay)
    {
    BMP_HEADER *header  = (BMP_HEADER *) bmp_file ;
    SPRITE *sprite      = malloc(sizeof(SPRITE)) ;
    sprite->width       = header->width ;
    sprite->height      = header->height ;
    sprite->transparent = transparent ;

    uint8_t *src = (uint8_t *) (header + 1) + 4*(1 << header->bits) ;
    uint8_t *dst = sprite->pixels = overlay ? src : malloc(sprite->width * sprite->height) ;

    for (int row = 0; row < header->height; row++)
        {
        uint8_t *byte = src + row * ((header->width * sizeof(uint8_t) + 3) & ~0x3) ;
        for (int col = 0; col < header->width; col++)
            {
           *dst++ = ColorTableIndex(0xFF000000 | header->palette[*byte++])  ;
            }
        }

    return sprite ;
    }

static void DrawSprite(SPRITE *sprite, int xlft, int ytop)
    {
    int y = ytop + sprite->height ;
    uint8_t *src = sprite->pixels ;
    for (int row = 0; row < sprite->height; row++, y--)
        {
        int x = xlft ;

        if (y < 0 || y >= AREA_HEIGHT) continue ;

        uint8_t *dst = &canvas[ytop + sprite->height - row][x] ;
        for (int col = 0; col < sprite->width; col++, x++)
            {
            if (0 <= x && x < AREA_WIDTH)
                {
                if (*src != sprite->transparent) *dst = *src ;
                }
            src++ ; 
            dst++ ;
            }
        }
    }

static void PutMessage(char *format, ...)
    {
    static BOOL first_time = TRUE ;
    va_list args ;
    char text[100] ;

    if (first_time)
        {
        SetForeground(COLOR_BLACK) ;
        FillRect(0, MSG_YTOP, XPIXELS, MSG_HEIGHT) ;
        first_time = FALSE ;
        }

    va_start(args, format) ;
    vsprintf(text, format, args) ;
    va_end(args) ;

    SetFontSize(&MSG_FONT) ;
    SetForeground(COLOR_WHITE) ;
    SetBackground(COLOR_BLACK) ;
    DisplayStringAt(MSG_XLFT + (XPIXELS - strlen(text) * MSG_FONT.Width) / 2, MSG_YTOP, text) ;
    }

static void SetFontSize(sFONT *Font)
    {
    extern void BSP_LCD_SetFont(sFONT *) ;
    BSP_LCD_SetFont(Font) ;
    }

static void Explosions(void)
    {
    for (int row = 0; row < ENEMY_ROWS; row++)
        {
        ENEMY *enemy = &enemies.enemy[row][0] ;
        for (int col = 0; col < ENEMY_COLS; col++, enemy++)
            {
            Explode(&enemy->state, &enemy->explode_timer) ;
            }
        }

    Explode(&player.state, &player.explode_timer) ;
    Explode(&saucer.state, &saucer.explode_timer) ;
    }

static void Explode(STATE *state, TIMER *timer)
    {
    if (DEAD < *state && *state < ALIVE)
        {
        if (Timeout(timer, EXPLODE_MSEC)) --*state ;
        }
    }

static void UpdateDisplay(void)
    {
    DrawBackground() ;
    DrawPlayer() ;
    DrawBases() ;
    DrawEnemies() ;
    DrawSaucer() ;
    DrawBullets(enemy_bullets, ENEMY_BULLETS) ;
    DrawBullets(player_bullets, PLAYER_BULLETS) ;
    }

typedef struct
    {
    uint32_t            CR ;                    // Control register
    uint32_t            ISR ;                   // Interrupt Status Register 
    uint32_t            IFCR ;                  // Interrupt flag clear register
    uint32_t            FGMAR ;                 // Foreground memory address register
    uint32_t            FGOR ;                  // Foreground offset register 
    uint32_t            BGMAR ;                 // Background memory address register
    uint32_t            BGOR ;                  // Background offset register
    uint32_t            FGPFCCR ;               // Foreground PFC control register
    uint32_t            FGCOLR ;                // Foreground color register
    uint32_t            BGPFCCR ;               // Background PFC control register
    uint32_t            BGCOLR ;                // Background color register
    uint32_t            FGCMAR ;                // Foreground CLUT memory address register
    uint32_t            BGCMAR ;                // Background CLUT memory address register
    uint32_t            OPFCCR ;                // Output PFC control register
    uint32_t            OCOLR ;                 // Output color register 
    uint32_t            OMAR ;                  // Output memory address register
    uint32_t            OOR ;                   // Output offset register
    uint32_t            NLR ;                   // Number of line register
    uint32_t            LWR ;                   // Line watermark register
    uint32_t            AMTCR ;                 // AHB master timer configuration register
    } CHROM_ART ;

static uint32_t *   AHB1ENR = (uint32_t *)  0x40023800 ;
static CHROM_ART *  DMA2D   = (CHROM_ART *) 0x4002B000 ;
static uint32_t *   FG_CLUT = (uint32_t *)  0x4002B400 ; 

static uint8_t ColorTableIndex(uint32_t color32)
    {
    for (int color = 0; color < colors; color++)
        {
        if (color32 == color_table[color]) return (uint8_t) color ;
        }
    color_table[colors] = color32 ;
    return (uint8_t) (colors++) ;
    }

static void ChromArtInitialize(void)
    {
    *AHB1ENR |= (1 << 23) ; // Turn on DMA2D clock
    TIMER timer = GetTimeout(1) ;
    while (!Timeout(&timer, 0)) ;

    // Load color look-up table (CLUT)
    for (int color = 0; color < colors; color++)
        {
        FG_CLUT[color] = color_table[color] ;
        }
    }

static void ChromArtXferFrameBuffer(void)
    {
    const uint32_t *screen_pixels = (uint32_t *) 0xD0000000 ;
    DMA2D->NLR      = (AREA_WIDTH << 16) | AREA_HEIGHT ;

    DMA2D->OMAR     = (uint32_t) (screen_pixels + XPIXELS*HDR_HEIGHT) ;
    DMA2D->OOR      = 0 ;
    DMA2D->OPFCCR   = 0 ;   // Output pixel format ARGB8888.

    DMA2D->FGMAR    = (uint32_t) canvas ; // foreground (source buffer) address.
    DMA2D->FGOR     = 0 ;   // pixels rows are adjacent in source.
    DMA2D->FGPFCCR  = 5 ;   // Source pixel format L8.

    // start transfer; Enable PFC (Pixel Format Conversion)
    DMA2D->CR       = 0x10001 ;
    }

static void ChromArtWaitForDMA(void)
    {
    // wait until DMA transfer is finished
    while ((DMA2D->CR & 1) != 0)
        {
        // Poll no faster than once every microsecond
        TIMER timer = GetClockCycleCount() + CPU_CLOCK_MHZ ;
        while (!Timeout(&timer, 0)) ;
        }
    }

static void InitializeGyroscope(void)
    {
    struct { uint8_t port ; uint8_t value; } cfg[] =
        {
        {GYRO_CTRL_REG4, GYRO_BDU_FLAG|GYRO_FULL_SCALE[FULL_SCALE_INDEX]},
        {GYRO_CTRL_REG5, GYRO_FIFO_ENABLE},
        {GYRO_FIFO_CTRL, GYRO_FIFO_STREAM},
        {GYRO_CTRL_REG1, GYRO_ODR_HZ[DATA_RATE_INDEX]|GYRO_PD_FLAG|GYRO_XYZ_ENABLE}
        } ;

    GYRO_IO_Init() ;
    for (int reg = 0; reg < ENTRIES(cfg) ; reg++)
        {
        GYRO_IO_Write(&cfg[reg].value, cfg[reg].port, sizeof(uint8_t)) ;
        }
    }

#define KAHAN_SUM(sum, val, c)  \
    {                           \
    double y = val - c ;        \
    double t = sum + y ;        \
    c = (t - sum) - y ;         \
    sum = t ;                   \
    }

static double GetRollDegr(double roll_bias)
    {
    static double roll_degr = 0.0 ;

    double c = 0.0 ;
    for (;;)
        {
        uint8_t sts ;

        // Check to see if new gyro data is available
        GYRO_IO_Read(&sts, GYRO_FIFO_SRC, sizeof(sts)) ;
        if ((sts & GYRO_FIFO_EMPTY) != 0) break ;

        double roll_rate = GetRollRate() - roll_bias ;
        double roll_incr = roll_rate / SAMPLES_PER_SEC[DATA_RATE_INDEX] ;

        // Perform trapezoidal integration to get position
        // using a Kahan Summation (for better accuracy)
        KAHAN_SUM(roll_degr, roll_incr, c) ;
        }

    return roll_degr ;
    }

static double CalibrateGyroscope(void)
    {
    static double c         = 0.0 ;
    static double roll_bias = 0.0 ;

    Instructions() ;
    WaitForPushButton() ;

    int samples = 0 ;
    TIMER timer = GetTimeout(2000) ;
    while (Timeout(&timer, 0) == FALSE)
        {
        uint8_t sts ;

        do GYRO_IO_Read(&sts, GYRO_FIFO_SRC, sizeof(sts)) ;
        while ((sts & GYRO_FIFO_EMPTY) != 0) ;

        // Use Kahan Summation (for better accuracy)
        KAHAN_SUM(roll_bias, GetRollRate(), c) ;
        samples++ ;
        } 

    return roll_bias / (double) samples ;
    }

static double GetRollRate(void)
    {
    const double sensitivity = SENSITIVITY[FULL_SCALE_INDEX] / 1000.0 ;
    int16_t raw_rate[3] ;
  
    GYRO_IO_Read((uint8_t *) raw_rate, GYRO_XYZ_DATA, sizeof(raw_rate)) ;
    return sensitivity * raw_rate[1]  ;
    }

static void Instructions(void)
    {
    static char *msg[] =
        {
        "CALIBRATING GYRO",
        "----------------",
        "",
        "Place board on a",
        "level surface and",
        "press blue button",
        "",
        "Do not move board",
        "until game appears"
        } ;

    SetFontSize(&Font16) ;
    uint32_t y = 100 ;
    for (int line = 0; line < ENTRIES(msg) ; line++)
        {
        DisplayStringAt(20, y, (uint8_t *) msg[line]) ;
        y += Font16.Height ;
        }
    }
